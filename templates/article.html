{% extends "base.html" %}

{% block title %}{{ article.title }} — {{ site.name }}, {{ site.role|title }}{% endblock %}
{% block description %}{{ article.excerpt }}{% endblock %}

{% block content %}
<!-- Article Header -->
<section class="section article-header">
    <div class="container" style="max-width: 720px;">
        <div class="fade-in">
            <a href="{{ url_for('articles') }}" class="article-page__back">
                <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
                Все статьи
            </a>
            <h1 class="article-page__title">{{ article.title }}</h1>
        </div>
    </div>
</section>

<!-- Article Image -->
{% if article.image %}
<section class="article-image">
    <div class="container fade-in" style="max-width: 720px;">
        <img src="{{ url_for('static', filename=article.image) }}" alt="{{ article.title }}" loading="lazy" style="border-radius: var(--radius-md); width: 100%;">
    </div>
</section>
{% endif %}

<!-- Article Content -->
<section class="section" style="padding-top: 2rem;">
    <div class="container fade-in" style="max-width: 720px;">
        <div class="article-page__content">
            {{ article.content|safe }}
        </div>
    </div>
</section>

<!-- Article Nav -->
<section class="section" style="padding-top: 0;">
    <div class="container fade-in" style="max-width: 720px;">
        <a href="{{ url_for('articles') }}" class="article-page__back">
            <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
            Вернуться к статьям
        </a>
    </div>
</section>

<!-- CTA -->
<section class="cta">
    <div class="container fade-in">
        <h2>{{ data.articles_cta.title }}</h2>
        <p>{{ data.articles_cta.text }}</p>
        <a href="{{ site.telegram_link }}" class="btn btn--telegram btn--lg" target="_blank" rel="noopener">
            <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor"><path d="M9.78 18.65l.28-4.23 7.68-6.92c.34-.31-.07-.46-.52-.19L7.74 13.3 3.64 12c-.88-.25-.89-.86.2-1.3l15.97-6.16c.73-.33 1.43.18 1.15 1.3l-2.72 12.81c-.19.91-.74 1.13-1.5.71L12.6 16.3l-1.99 1.93c-.23.23-.42.42-.83.42z"/></svg>
            {{ data.articles_cta.button_text }}
        </a>
    </div>
</section>
{% endblock %}
